<div #divElementRef [class.collapsed]="isCollapsed">
    <ng-content></ng-content>
</div>
 
<ng-template [ngTemplateOutlet]="buttonsContainer"></ng-template> 

<ng-template #buttonsContainer>
 <div *ngIf="isEllipsisActive" (click)="toggleCollapsed()" class="div-collapse"> 
   <ng-container *ngTemplateOutlet="customButtonTemplateRef ? customButtonTemplateRef: defaultButtons; context: {isCollapsed: isCollapsed}"></ng-container>
 </div>
</ng-template>

<ng-template #defaultButtons>
    <div class="icon-text" *ngIf="isCollapsed"> 
            <mat-icon>expand_more</mat-icon>
            <span>Show more</span> 
    </div>
    <div class="icon-text" *ngIf="!isCollapsed"> 
            <mat-icon>expand_less</mat-icon>
            <span>Show less</span> 
    </div> 
</ng-template>