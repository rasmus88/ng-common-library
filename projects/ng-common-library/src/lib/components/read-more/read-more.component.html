<div #divElementRef [class.collapsed]="isCollapsed">
    <ng-content></ng-content>
</div>
 
<ng-template [ngTemplateOutlet]="buttonsContainer"></ng-template> 

<ng-template #buttonsContainer>
 <div *ngIf="isEllipsisActive" (click)="toggleCollapsed()" class="div-collapse"> 
   <ng-container *ngTemplateOutlet="customButtonTemplateRef ? customButtonTemplateRef: defaultButtons; context: {isCollapsed: isCollapsed}"></ng-container>
 </div>
</ng-template>

<ng-template #defaultButtons>
    <p *ngIf="isCollapsed">
        <i class="fa fa-angle-down" aria-hidden="true"></i> Show more
    </p>
    <p *ngIf="!isCollapsed">
        <i class="fa fa-angle-up" aria-hidden="true"></i> Show less
    </p> 
</ng-template>